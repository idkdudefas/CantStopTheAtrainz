local Players = game:GetService("Players")

-- Configuration
local animationId = "rbxassetid://18949773971" -- Replace this with your animation ID
local speedBoost = 100
local duration = 36 -- Duration in seconds

local function createTool(player)
    -- Create the tool
    local tool = Instance.new("Tool")
    tool.Name = "Train A"
    tool.RequiresHandle = false

    -- Create the script to be placed inside the tool
    local script = Instance.new("LocalScript")
    script.Source = [[
        local Tool = script.Parent

        -- Animation and Speed Configuration
        local animationId = "]] .. animationId .. [["
        local speedBoost = ]] .. speedBoost .. [[
        local duration = ]] .. duration .. [[

        -- Function to Handle Tool Activation
        local function onActivated()
            local player = game.Players.LocalPlayer
            local character = player.Character
            if not character then return end

            local humanoid = character:FindFirstChildOfClass("Humanoid")
            if not humanoid then return end

            -- Play Animation
            local animation = Instance.new("Animation")
            animation.AnimationId = animationId
            local animator = humanoid:FindFirstChildOfClass("Animator") or humanoid:WaitForChild("Animator")
            local animationTrack = animator:LoadAnimation(animation)
            animationTrack:Play()

            -- Store Original WalkSpeed
            local originalWalkSpeed = humanoid.WalkSpeed

            -- Increase Speed
            humanoid.WalkSpeed = speedBoost

            -- Revert Speed After Duration
            wait(duration)
            humanoid.WalkSpeed = originalWalkSpeed

            -- Stop the animation after the duration
            animationTrack:Stop()

            -- Disable the tool after use
            Tool.Enabled = false
        end

        -- Connect Tool Activation to Function
        Tool.Activated:Connect(onActivated)
    ]]
    script.Parent = tool

    -- Add the tool to the player's backpack
    tool.Parent = player:WaitForChild("Backpack")
end

-- Function to handle when a player joins the game
local function onPlayerAdded(player)
    createTool(player)
end

-- Connect the function to the PlayerAdded event
Players.PlayerAdded:Connect(onPlayerAdded)

-- Add the tool to any players already in the game
for _, player in ipairs(Players:GetPlayers()) do
    createTool(player)
end
